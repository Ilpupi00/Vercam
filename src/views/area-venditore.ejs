<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Area Venditore - Vercam</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link href="/stylesheets/navbar.css" rel="stylesheet">
  <link href="/stylesheets/footer.css" rel="stylesheet">
  <link href="/stylesheets/hero.css" rel="stylesheet">
  <link href="/stylesheets/area-venditore.css rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>
</head>
<body>

<%- include('partials/navbar') %>
<!-- Hero Area Venditore -->
<section class="hero-section bg-success text-white py-5">
  <div class="container">
    <div class="row align-items-center min-vh-75">
      <div class="col-12 text-center">
        <!-- Mobile-First Content -->
        <h1 class="display-4 fw-bold mb-3 text-shadow">
          Area Venditore
        </h1>
        <p class="lead mb-4 fs-6 fs-md-5 px-3">
          Piattaforma riservata per la gestione documentale e upload sicuri.<br>Accesso esclusivo per il personale autorizzato.
        </p>
        <div class="d-grid gap-2 d-md-flex justify-content-md-center">
          <a href="#upload" class="btn btn-light btn-lg px-4 py-3 fw-bold shadow">
            <i class="bi bi-cloud-upload me-2"></i>Carica documenti
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Background Particles -->
  <div class="particles-bg">
    <div class="particle" style="width: 30px; height: 30px; top: 20%; left: 10%; animation-delay: 0s;"></div>
    <div class="particle" style="width: 20px; height: 20px; top: 60%; left: 80%; animation-delay: 1s;"></div>
    <div class="particle" style="width: 25px; height: 25px; top: 40%; left: 70%; animation-delay: 2s;"></div>
    <div class="particle" style="width: 15px; height: 15px; top: 80%; left: 20%; animation-delay: 0.5s;"></div>
  </div>
  </section>

<!-- Sezione Upload File -->
<section class="upload-section py-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-10">
        <!-- Form Upload -->
        <div class="upload-card mb-5">
          <h2 class="upload-title text-center mb-4">Carica Nuovo Documento</h2>
          <form class="upload-form" id="uploadForm">
            <div class="row g-3">
              <div class="col-md-6">
                <label for="fileName" class="form-label fw-bold">Nome Documento</label>
                <input type="text" class="form-control" id="fileName" placeholder="Es: Contratto_Servizi_2025" required>
              </div>
              <div class="col-md-6">
                <label for="fileCategory" class="form-label fw-bold">Categoria</label>
                <select class="form-select" id="fileCategory" required>
                  <option value="">Seleziona categoria...</option>
                  <option value="contratti">Contratti</option>
                  <option value="certificati">Certificati</option>
                  <option value="manuali">Manuali</option>
                  <option value="procedure">Procedure</option>
                  <option value="modulistica">Modulistica</option>
                  <option value="altro">Altro</option>
                </select>
              </div>
              <div class="col-12">
                <label for="fileDescription" class="form-label fw-bold">Descrizione (opzionale)</label>
                <textarea class="form-control" id="fileDescription" rows="3" placeholder="Breve descrizione del documento..."></textarea>
              </div>
              <div class="col-12">
                <label for="fileUpload" class="form-label fw-bold">Seleziona File</label>
                <input type="file" class="form-control" id="fileUpload" accept=".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png" required>
                <div class="form-text">Formati supportati: PDF, DOC, DOCX, XLS, XLSX, JPG, PNG. Max 10MB.</div>
              </div>
            </div>
            <div class="text-center mt-4">
              <button type="submit" class="btn btn-success btn-lg px-5">
                <i class="bi bi-cloud-upload me-2"></i>Carica Documento
              </button>
            </div>
          </form>
        </div>

        <!-- Lista Documenti Gestiti -->
        <div class="documents-management">
          <h2 class="section-title text-center mb-4">Documenti Caricati</h2>

          <!-- Filtri -->
          <div class="filters mb-4">
            <div class="row g-3 align-items-center">
              <div class="col-md-4">
                <select class="form-select" id="filterCategory">
                  <option value="">Tutte le categorie</option>
                  <option value="contratti">Contratti</option>
                  <option value="certificati">Certificati</option>
                  <option value="manuali">Manuali</option>
                  <option value="procedure">Procedure</option>
                  <option value="modulistica">Modulistica</option>
                  <option value="altro">Altro</option>
                </select>
              </div>
              <div class="col-md-4">
                <input type="text" class="form-control" id="searchDocs" placeholder="Cerca documenti...">
              </div>
              <div class="col-md-4">
                <button class="btn btn-outline-primary w-100" id="clearFilters">
                  <i class="bi bi-x-circle me-2"></i>Pulisci Filtri
                </button>
              </div>
            </div>
          </div>

          <!-- Lista Documenti -->
          <div class="documents-list" id="documentsList">
            <!-- Documenti verranno popolati dinamicamente dal file /javascripts/documents.js -->
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Modal Modifica Documento -->
<div class="modal fade" id="editDocumentModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Modifica Documento</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="editDocumentForm">
          <div class="mb-3">
            <label for="editFileName" class="form-label">Nome Documento</label>
            <input type="text" class="form-control" id="editFileName" required>
          </div>
          <div class="mb-3">
            <label for="editFileCategory" class="form-label">Categoria</label>
            <select class="form-select" id="editFileCategory" required>
              <option value="contratti">Contratti</option>
              <option value="certificati">Certificati</option>
              <option value="manuali">Manuali</option>
              <option value="procedure">Procedure</option>
              <option value="modulistica">Modulistica</option>
              <option value="altro">Altro</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="editFileDescription" class="form-label">Descrizione</label>
            <textarea class="form-control" id="editFileDescription" rows="3"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annulla</button>
        <button type="button" class="btn btn-primary" id="saveEditDocument">Salva Modifiche</button>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<%- include('partials/footer') %>

<!-- Script esterno per la gestione documenti (OOP) -->
<script src="/javascripts/documents.js" defer></script>
</body>
</html>
