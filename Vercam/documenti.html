<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Documenti - Vercam</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link href="./Css/navbar.css" rel="stylesheet"> 
  <link href="./Css/footer.css" rel="stylesheet">
  <link href="./Css/documenti.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>
</head>
<body>
  <!-- Navbar Migliorata -->

  <!-- Hero Web 3.0 Documenti -->

<header>
  <nav class="navbar navbar-expand-lg sticky-top shadow-sm navbar-mobile-web3">
  <div class="container-fluid px-4 d-flex justify-content-between align-items-center navbar-mobile-container">
      <a class="navbar-brand mx-0" href="index.html">
        <img src="https://cdn-icons-png.flaticon.com/512/616/616494.png" alt="Vercam Logo" width="60" height="60" class="logo-solo">
      </a>
      <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu"
        aria-controls="navbarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-center" id="navbarMenu">
        <ul class="navbar-nav mb-2 mb-lg-0 d-flex justify-content-center align-items-center w-100" style="gap:16px;">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="chi-siamo.html">Chi siamo</a></li>
          <li class="nav-item"><a class="nav-link" href="servizi.html">Servizi</a></li>
          <li class="nav-item"><a class="nav-link active" href="documenti.html">Documenti</a></li>
          <li class="nav-item"><a class="nav-link" href="contatti.html">Contatti</a></li>
          <li class="nav-item d-lg-none">
            <a href="area-venditore.html" class="btn-area-venditore-mobile">
              <i class="bi bi-person-badge me-2"></i>Area Venditore
            </a>
          </li>
        </ul>
      </div>
      <a href="area-venditore.html" class="btn-area-venditore ms-3 d-none d-lg-block">
        <i class="bi bi-person-badge me-2"></i>Area Venditore
      </a>
    </div>
  </nav>
</header>
  <section class="hero-section-doc position-relative text-center text-white">
  <div class="container position-relative z-2 py-5 hero-doc-container">
      <h1 class="display-3 fw-bold mb-3" style="text-shadow:0 4px 24px rgba(67,233,123,0.13);">Documenti</h1>
      <p class="lead mb-4">Scarica normative, certificazioni e risorse ambientali in modo semplice e sicuro.<br>Soluzioni digitali per la gestione documentale Web 3.0.</p>
    </div>
    <!-- Particelle decorative -->
    <div class="particles-bg">
      <div class="particle" style="width:48px;height:48px;top:12%;left:8%;animation-delay:0s;"></div>
      <div class="particle" style="width:32px;height:32px;top:70%;left:80%;animation-delay:2s;"></div>
      <div class="particle" style="width:24px;height:24px;top:40%;left:60%;animation-delay:1s;"></div>
      <div class="particle" style="width:36px;height:36px;top:80%;left:20%;animation-delay:3s;"></div>
      <div class="particle" style="width:20px;height:20px;top:25%;left:90%;animation-delay:1.5s;"></div>
    </div>
    <div class="hero-overlay position-absolute top-0 start-0 w-100 h-100" style="background:rgba(25,135,84,0.15);"></div>
  </section>
  <main class="container py-5 documenti-main-container">

    <!-- Barra di ricerca documenti -->
    <form class="doc-search-box mb-4 doc-search-mobile" autocomplete="off">
      <div class="doc-search-wrapper">
        <input type="search" class="doc-search-input" placeholder="Cerca un documento..." name="search" id="docSearch" />
        <button type="submit" class="doc-search-btn" aria-label="Cerca">
          <i class="bi bi-search"></i>
        </button>
      </div>
    </form>

    <!-- Filtri per categoria -->
    <div class="filters-section mb-4">
      <div class="row g-3 align-items-center justify-content-center">
        <div class="col-auto">
          <label class="form-label fw-bold mb-0">Filtra per categoria:</label>
        </div>
        <div class="col-auto">
          <select class="form-select" id="categoryFilter">
            <option value="">Tutte le categorie</option>
            <option value="contratti">Contratti</option>
            <option value="certificati">Certificati</option>
            <option value="manuali">Manuali</option>
            <option value="procedure">Procedure</option>
            <option value="modulistica">Modulistica</option>
            <option value="altro">Altro</option>
          </select>
        </div>
        <div class="col-auto">
          <button class="btn btn-outline-primary" id="clearDocFilters">
            <i class="bi bi-x-circle me-2"></i>Pulisci Filtri
          </button>
        </div>
      </div>
    </div>

    <!-- Sezione documenti dinamici -->
    <div id="documentsContainer">
      <!-- I documenti verranno caricati dinamicamente -->
    </div>

    <!-- Messaggio quando non ci sono documenti -->
    <div id="noDocumentsMessage" class="text-center py-5" style="display: none;">
      <i class="bi bi-file-earmark-x fs-1 text-muted mb-3"></i>
      <h4 class="text-muted">Nessun documento disponibile</h4>
      <p class="text-muted">I documenti verranno pubblicati a breve nell'area riservata.</p>
    </div>
  </main>
   <footer class="footer-web3 position-relative py-5 text-white">
      <div class="footer-bg-gradient position-absolute top-0 start-0 w-100 h-100 z-0"></div>
      <div class="particles-bg">
        <div class="particle particle-f1"></div>
        <div class="particle particle-f2"></div>
        <div class="particle particle-f3"></div>
        <div class="particle particle-f4"></div>
        <div class="particle particle-f5"></div>
      </div>
      <div class="container position-relative z-2">
        <div class="row gy-4">
          <!-- Contact Form Column -->
          <div class="col-lg-6 mb-4 mb-lg-0">
            <div class="footer-card p-4 shadow-lg">
              <h5 class="mb-4 text-center overflow-hidden">Contattaci</h5>
              <form id="emailForm" action="" method="POST">
                <div class="row g-3 mb-3">
                  <div class="col-sm-6">
                    <input type="text" class="form-control" placeholder="Nome e Cognome" name="name" required>
                  </div>
                  <div class="col-sm-6">
                    <input type="email" class="form-control" placeholder="Email" name="email" required>
                  </div>
                </div>
                <div class="mb-3">
                  <input type="text" class="form-control" placeholder="Oggetto" name="subject" required>
                </div>
                <div class="mb-4">
                  <textarea class="form-control" placeholder="Messaggio" name="message" rows="4" required></textarea>
                </div>
                <div class="text-center">
                  <button type="submit" class="btn btn-light px-4 py-2 bnt-">Invia Messaggio</button>
                </div>
              </form>
            </div>
          </div>
          <!-- Info Column -->
          <div class="col-lg-6 text-center m-auto">
            <div class="footer-card p-4 shadow-lg">
              <h5 class="mb-4 text-center overflow-hidden">Vercam</h5>
              <div class="d-flex flex-column align-items-center mb-4">
                <p class="mb-3"><i class="bi bi-geo-alt-fill me-2"></i> Via dello Sport 123, Borgo Vercelli (VC)</p>
                <p class="mb-3"><i class="bi bi-telephone-fill me-2"></i> +39 0123 456789</p>
                <p class="mb-3"><i class="bi bi-envelope-fill me-2"></i> info@asdborgovercelli.it</p>
              </div>
              <!-- Social Media Icons -->
              <div class="text-center mb-4">
                <a href="#" class="text-white mx-2"><i class="bi bi-facebook fs-4"></i></a>
                <a href="#" class="text-white mx-2"><i class="bi bi-instagram fs-4"></i></a>
                <a href="#" class="text-white mx-2"><i class="bi bi-twitter-x fs-4"></i></a>
              </div>
            </div>
          </div>
        </div>
        <!-- Copyright -->
        <div class="row mt-5">
          <div class="col-12 text-center">
            <hr class="my-4 bg-light opacity-50">
            <p class="mb-0">&copy; Vercam. Tutti i diritti riservati.</p>
          </div>
        </div>
      </div>
    </footer>
    <script>
// Gestione Documenti Pubblici - JavaScript
console.log('Script loaded');
document.addEventListener('DOMContentLoaded', function() {
    console.log('DOMContentLoaded fired');
    console.log('DOMContentLoaded fired');
    
    // Elementi DOM
    const documentsContainer = document.getElementById('documentsContainer');
    const noDocumentsMessage = document.getElementById('noDocumentsMessage');
    const docSearch = document.getElementById('docSearch');
    const categoryFilter = document.getElementById('categoryFilter');
    const clearDocFilters = document.getElementById('clearDocFilters');

    console.log('Elements found:', { documentsContainer, noDocumentsMessage, docSearch, categoryFilter, clearDocFilters });

    // Documenti di esempio (in produzione verrebbero da un database/server)
    const sampleDocuments = [
        {
            id: 1,
            name: 'Contratto_Servizi_2025.pdf',
            description: 'Contratto di servizi per smaltimento rifiuti 2025',
            category: 'contratti',
            size: '2.4 MB',
            uploadDate: '06/10/2025',
            icon: 'bi-file-earmark-text'
        },
        {
            id: 2,
            name: 'Certificato_ISO_14001.pdf',
            description: 'Certificazione ambientale ISO 14001',
            category: 'certificati',
            size: '1.8 MB',
            uploadDate: '05/10/2025',
            icon: 'bi-file-earmark-check'
        },
        {
            id: 3,
            name: 'Manuale_Sicurezza.pdf',
            description: 'Manuale di sicurezza per operatori',
            category: 'manuali',
            size: '3.2 MB',
            uploadDate: '04/10/2025',
            icon: 'bi-file-earmark-ruled'
        },
        {
            id: 4,
            name: 'Procedura_Raccolta.pdf',
            description: 'Procedura operativa per raccolta rifiuti',
            category: 'procedure',
            size: '1.5 MB',
            uploadDate: '03/10/2025',
            icon: 'bi-file-earmark-text'
        },
        {
            id: 5,
            name: 'Modulistica_Richiesta.docx',
            description: 'Moduli per richiesta servizi',
            category: 'modulistica',
            size: '956 KB',
            uploadDate: '02/10/2025',
            icon: 'bi-file-earmark-word'
        }
    ];

    // Funzione per ottenere documenti da localStorage (simulando dati dinamici)
    function getDocuments() {
        // In produzione, questi verrebbero da un'API
        // Per ora usiamo i dati di esempio
        return sampleDocuments;
    }

    // Funzione per raggruppare documenti per categoria
    function groupDocumentsByCategory(documents) {
        const grouped = {};
        documents.forEach(doc => {
            if (!grouped[doc.category]) {
                grouped[doc.category] = [];
            }
            grouped[doc.category].push(doc);
        });
        return grouped;
    }

    // Funzione per ottenere il nome della categoria
    function getCategoryName(category) {
        const names = {
            'contratti': 'Contratti',
            'certificati': 'Certificati',
            'manuali': 'Manuali',
            'procedure': 'Procedure',
            'modulistica': 'Modulistica',
            'altro': 'Altro'
        };
        return names[category] || category;
    }

    // Funzione per ottenere la classe del badge
    function getBadgeClass(category) {
        const badgeClasses = {
            'contratti': 'bg-success',
            'certificati': 'bg-info',
            'manuali': 'bg-warning',
            'procedure': 'bg-secondary',
            'modulistica': 'bg-primary',
            'altro': 'bg-dark'
        };
        return badgeClasses[category] || 'bg-secondary';
    }

    // Funzione per renderizzare i documenti
    function renderDocuments(documents = getDocuments()) {
        console.log('renderDocuments called with', documents.length, 'documents');
        
        if (documents.length === 0) {
            documentsContainer.innerHTML = '<p>Nessun documento disponibile</p>';
            return;
        }

        let html = '<h3>Documenti disponibili:</h3><ul>';
        documents.forEach(doc => {
            html += `<li>${doc.name} - ${doc.description} (${doc.size})</li>`;
        });
        html += '</ul>';
        
        documentsContainer.innerHTML = html;
        console.log('HTML set to documentsContainer');
    }

    // Funzione per filtrare documenti
    function filterDocuments() {
        const searchTerm = docSearch.value.toLowerCase();
        const categoryFilterValue = categoryFilter.value;

        let filteredDocs = getDocuments();

        // Filtro per categoria
        if (categoryFilterValue) {
            filteredDocs = filteredDocs.filter(doc => doc.category === categoryFilterValue);
        }

        // Filtro per ricerca
        if (searchTerm) {
            filteredDocs = filteredDocs.filter(doc =>
                doc.name.toLowerCase().includes(searchTerm) ||
                doc.description.toLowerCase().includes(searchTerm)
            );
        }

        renderDocuments(filteredDocs);
    }

    // Event Listeners
    docSearch.addEventListener('input', filterDocuments);
    categoryFilter.addEventListener('change', filterDocuments);

    clearDocFilters.addEventListener('click', function() {
        docSearch.value = '';
        categoryFilter.value = '';
        renderDocuments();
    });

    // Inizializzazione
    renderDocuments();
});
</script>
</body>
</html>